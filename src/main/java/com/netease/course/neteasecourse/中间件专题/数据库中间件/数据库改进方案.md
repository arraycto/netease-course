### case1:数据存储量不大，但是读写并发大

- 加缓存，减少并发压力

- 读写分离，减少数据库并发压力

### case2: 数据存储量大，读写并发大

- 读写分离，多个从库，减少读并发压力

- 分库存储（会出现跨库关联查询）

### case3: 单表数据量很大

- 分表

## 数据库中间件设计要点

- 能够解析sql

- 支持读写分离

- 支持多个从库的的负载均衡

- 支持分库分表

- 支持跨库关联查询

- 支持事务

- 全局主键id生成

- 数据源管理

## 分库分表技术难点

- 引起分布式事务问题

- 跨库join问题

- 跨库排序分页问题

- 多数据源管理问题

## 常用数据库中间件

- 基于客户端，shardingJDBC,需要在应用层整合

- 基于服务代理，Mycat，




